/// Torna o pseudoelemento :before de um elemento um ícone FontAwesome.
/// @param {string} $content Valor de conteúdo opcional a ser usado.
/// @param {string} $category Categoria opcional a ser usada.
/// @param {string} $where Pseudoelemento opcional a ser alvo (antes ou depois).
@mixin icon($content: false, $category: regular, $where: before) {

	text-decoration: none;

	&:#{$where} {

		@if $content {
			content: $content;
		}

		-moz-osx-font-smoothing: grayscale;
		-webkit-font-smoothing: antialiased;
		display: inline-block;
		font-style: normal;
		font-variant: normal;
		text-rendering: auto;
		line-height: 1;
		text-transform: none !important;

		@if ($category == brands) {
			font-family: 'Font Awesome 5 Brands';
		}
		@elseif ($category == solid) {
			font-family: 'Font Awesome 5 Free';
			font-weight: 900;
		}
		@else {
			font-family: 'Font Awesome 5 Free';
			font-weight: 400;
		}

	}

}

/// Aplica preenchimento a um elemento, levando em consideração o valor atual da margem do elemento.
/// @param {misto} $tb Preenchimento superior/inferior.
/// @param {misto} $lr Preenchimento esquerdo/direito.
/// @param {list} $pad Preenchimento extra opcional (na seguinte ordem superior, direita, inferior, esquerda)
/// @param {bool} $important Se verdadeiro, adiciona !important.
@mixin padding($tb, $lr, $pad: (0,0,0,0), $important: null) {

	@if $important {
		$important: '!important';
	}

	$x: 0.1em;

	@if unit(_size(element-margin)) == 'rem' {
		$x: 0.1rem;
	}

	padding: ($tb + nth($pad,1)) ($lr + nth($pad,2)) max($x, $tb - _size(element-margin) + nth($pad,3)) ($lr + nth($pad,4)) #{$important};

}

/// Codifica uma URL de dados SVG para que o IE não engasgue (via codepen.io/jakob-e/pen/YXXBrp).
/// @param {string} $svg URL de dados SVG.
/// @return {string} URL de dados SVG codificados.
@function svg-url($svg) {

	$svg: str-replace($svg, '"', '\'');
	$svg: str-replace($svg, '%', '%25');
	$svg: str-replace($svg, '<', '%3C');
	$svg: str-replace($svg, '>', '%3E');
	$svg: str-replace($svg, '&', '%26');
	$svg: str-replace($svg, '#', '%23');
	$svg: str-replace($svg, '{', '%7B');
	$svg: str-replace($svg, '}', '%7D');
	$svg: str-replace($svg, ';', '%3B');

	@return url("data:image/svg+xml;charset=utf8,#{$svg}");

}
